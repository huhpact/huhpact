(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{316:function(e,t,o){"use strict";var s=o(14),a=o(17),r=o(156).adjustSlidesPerGroup();const n=o(42);var i={};function l(e,t,o){var s="",a=!1,r=parseInt(t.find(".personalize-char ul.value li.selected-val").data("minlength"));return e.closest(".embroidery-section").length&&""!==e.closest(".embroidery-section").html().trim()?s=Resources.MONOGRAM_ENTER_INITIALS:e.closest(".embossing-section").length&&""!==e.closest(".embossing-section").html().trim()?s=Resources.MONOGRAM_ENTER_INITIALS_EMBOSSING:e.closest(".engraving-section").length&&""!==e.closest(".engraving-section").html().trim()&&(s=Resources.MONOGRAM_ENTER_INITIALS_ENGRAVING),e.length&&(a=!(""===e.val()||e.val().length<r)),o&&(a?($(".js-confirm-monogram").prop("disabled",!1),$(".js-monogram-initials-error").text(""),e.removeClass("error"),e.closest(".initial-input").removeClass("error-state")):($(".js-confirm-monogram").prop("disabled",!0),$(".js-monogram-initials-error").text(s),e.addClass("error"),e.closest(".initial-input").addClass("error-state"))),a}function c(e){const t=e.detail||{};if(!t.data||!t.productContainerEl)return;new n($(t.productContainerEl),$(t.data)).replace(".pdp-monogramming-cta-cont",null,!0)}var d={personalizeCheck:function(e){e.on("click",".js-personalize-check",(function(t){$(".js-personalize-check").each((function(e){var t=this.dataset.control;if(-1===t.indexOf("_index_")){const s=document.querySelector(`#${t}`);var o=t+"_index_"+e;this.dataset.control=o,s.setAttribute("id",o)}}));var o=this.closest(".js-product-content-section");const n=function(e){const t=e.querySelector("input[name=selectedVariant]");return t&&""!==t.value&&"null"!==t.value}(o);var c,d,m;c=o.querySelector(".js-add2bag-error-msg"),d=!n,m=$(".product-add-to-cart").find("#add-to-cart"),d?(m.hasClass("disabled-size")&&m.is(":disabled")||(c.classList.remove("hide"),c.innerText=document.querySelector(".js-all-qty-zero-error-msg").innerText.trim()),c.scrollIntoView({behavior:"smooth",block:"nearest"})):(c.classList.add("hide"),c.innerHTML=""),n?s.teleport($(o.querySelector(".personalize-close-wrapper")),a.getViewType()<a.LARGE?"bottom":"right",null,"pdp-monogram-toaster pdp-flyout full-height is-pdp-redesign r24-form",!1,!!e.closest(".js-redesign-qs-toaster").length,!0).then((function(e){var t=e.find(".js-personalize-close"),o=t.find(".value li:first-child"),a=t.find(".personalize-color"),n=t.find(".personalize-char"),c=t.find(".js-monogram-parent-container").filter((function(){return""!==$(this).html().trim()})),d=c.find(".js-personalize-initials input");t.addClass("personalize-open"),o.children(".single-placement").length&&o.addClass("selected-val selected"),a.find(".personalize-selected-clr").html($("input[type=radio]",$(".personalize-color .value li:first-child")).data("monogramcolor")),n.find(".personalize-selected-char").html($("input[type=radio]",$(".personalize-char .value li:first-child")).data("monogramstyle")),setTimeout((function(){!function(e,t,o){$(".js-pdp-monogram-swiper li").removeClass("selected-val selected"),$(".personalize-check-monogrammed").length?(e.find(`[data-monogramcolor='${$(".js-monogram-color-value").html()}']`).trigger("click"),e.find(`[data-monogramstyle='${$(".js-monogram-style-value").html()}']`).trigger("click"),o.val($(".js-monogram-initials-value").html()),o.addClass("has-success"),$(".js-remove-monogram").removeClass("hide")):($(".js-remove-monogram").addClass("hide"),o.val(""),o.removeClass("has-success"),t.find("input").trigger("click"))}(t,o,d)}),200),$(".js-pdp-monogram-swiper").each((function(e){$(this).hasClass("swiper-container-initialized")&&i[e].destroy();var t=$(this).data("slide-count"),o=this.querySelectorAll(".swiper-slide"),s=Array.from(o).findIndex((e=>e.classList.contains("selected")));i[e]=new Swiper(this,{version:"6",slidesPerView:"auto",resistance:!0,spaceBetween:t?8:7,initialSlide:s>-1?s:0,shortSwipes:!1,threshold:5,freeMode:!0,watchOverflow:!0,on:{init:function(e){r(e)}},breakpoints:{960:{spaceBetween:t?13:8,slidesOffsetAfter:1}},navigation:{nextEl:this.parentNode.querySelector(".swiper-button-next"),prevEl:this.parentNode.querySelector(".swiper-button-prev"),lockClass:"force-hide"}}),$(this).find(".pdp-monogram-slide").length<=3&&$(this).addClass("center-swiper")})),e.on("click",".rl-toaster-close",(function(){t.removeClass("personalize-open"),$(".monogramingAmount").hide(),$(".product-add-to-cart").find("#add-all-to-cart").prop("disabled",!1),$(".product-add-to-cart").find(".monogramCls .pdp-error-msg").text("")})),e.on("click",".monogram-button-container button",(function(){const e=$(".product-options").find(".personalize-value .personalize-Yes"),o=$(".product-options").find(".personalize-value .personalize-No");$(this).hasClass("js-remove-monogram")&&(!function(e,t){$(".js-monogram-placement-value").html(""),$(".js-monogram-style-value").html(""),$(".js-monogram-color-value").html(""),$(".js-monogram-initials-value").html(""),$(".js-monogram-details").addClass("hide");const o=$(".js-personalize-check"),s=o.closest(".js-product-top-content-container"),a=s.closest(".js-pdp-root-elem");s.find(".pricing-element[data-price-value]").removeAttr("data-monogram-option-price-value"),o.removeClass("personalize-check-monogrammed"),$("#"+o.data("control")).prop("checked",!1),t.val(""),e.removeClass("personalize-open"),document.dispatchEvent(new CustomEvent("afterProductDetailPriceUpdate",{detail:{action:"OPTION",triggerEl:o.get(0),rootEl:a.get(0),productContainerEl:s.get(0)}}))}(t,d),setTimeout((function(){s.closeInternalToaster()}),300),e.prop("checked",!1),o.prop("checked",!0)),$(this).hasClass("js-confirm-monogram")&&(!function(e,t){if(l(e,t,!0)){$(".selected-val").each((function(){$(this).closest(".option-dropdown").hasClass("personalize-select")?($(".js-monogram-placement-info").removeClass("force-hide"),$(".js-monogram-placement-value").html($(this).find(".single-placement").text().toLowerCase()).addClass("force-capitalize add-delimiter")):void 0!==$(this).find("input").data("monogramcolor")?($(".js-monogram-color-info").removeClass("force-hide"),$(".js-monogram-color-value").html($(this).find("input").data("monogramcolor")).addClass("add-delimiter")):void 0!==$(this).find("input").data("monogramstyle")&&($(".js-monogram-style-info").removeClass("force-hide"),$(".js-monogram-style-value").html($(this).find("input").data("monogramstyle")).addClass("add-delimiter"))})),$(".js-monogram-initials-info").removeClass("force-hide"),$(".js-monogram-initials-value").html(e.val());const t=$(".js-personalize-check"),o=t.closest(".js-product-top-content-container"),a=o.closest(".js-pdp-root-elem");o.find(".pricing-element[data-price-value]").attr("data-monogram-option-price-value",parseFloat(t.data("optionPriceValue")||0)),t.addClass("personalize-check-monogrammed"),$("#"+t.data("control")).prop("checked",!0),$(".js-monogram-details").removeClass("hide"),s.closeInternalToaster(),document.dispatchEvent(new CustomEvent("afterProductDetailPriceUpdate",{detail:{action:"OPTION",triggerEl:t.get(0),rootEl:a.get(0),productContainerEl:o.get(0)}}))}}(d,c),e.prop("checked",!0),o.prop("checked",!1))})),e.on("keypress",".personalize-initials input:text",(function(e){e.stopPropagation();var t=e.keyCode?e.keyCode:e.which,o=$(".pdp-monogram-toaster").find(".js-confirm-monogram");13!==t&&"Enter"!==e.code&&"Enter"!==e.key||l($(this),c,!0)&&o.trigger("click")})),e.on("click",".option-dropdown .value li input",(function(){var e,t=$(this).data("monogramcolor");e=""!==$(this).data("monogramstyle")&&void 0!==$(this).data("monogramstyle")?$(this).data("monogramstyle"):"",$(this).is(":checked")&&($(this).closest("li").addClass("selected-val selected"),$(this).closest("li").siblings().removeClass("selected-val selected")),$(this).closest(".option-dropdown").hasClass("personalize-color")&&$(this).closest(".personalize-color").find(".personalize-selected-clr").html(t),$(this).closest(".option-dropdown").hasClass("personalize-char")&&$(this).closest(".personalize-char").find(".personalize-selected-char").html(e)})),d.on("input",(function(){var e=$(this),t=e.val().replace(/[^a-zA-Z]/g,"");e.val(t);var o=e.val(),s=parseInt(d.attr("minlength"));l(e,c,!1)&&o.length>=s?(d.removeClass("error").addClass("has-success"),d.closest(".initial-input").removeClass("error-state"),$(".js-confirm-monogram").prop("disabled",!1),$(".js-monogram-initials-error").text("")):d.removeClass("has-success");var a=c.find(".personalize-char ul.value li.selected-val").attr("date-casetype");"lower"===a?e.val(o.toLowerCase()):"upper"===a&&e.val(o.toUpperCase());var r=parseInt(d.attr("maxlength"));o.length>r&&(this.value=o.slice(0,r))})),n.find("ul.value li").on("click",(function(){var e,t=parseInt($(this).data("minlength")),o=$(this).attr("date-casetype"),s=$(this).attr("date-charval").toUpperCase(),a=parseInt($(this).data("maxlength"));$(".your-initials-block .enter-upto-3l .letter-length","").text(Resources["MONOGRAM_INITIAL_"+s]),d.val(""),d.removeClass("error"),d.closest(".initial-input").removeClass("error-state"),$(".js-monogram-initials-error").html().length&&($(".js-confirm-monogram").prop("disabled",!1),$(".js-monogram-initials-error").text("")),d.hasClass("has-success")&&d.removeClass("has-success"),e="upper"===o?"uppercase":"lower"===o?"lowercase":"initial",d.attr({maxlength:a,minlength:t}).css("text-transform",e)}))})):t.preventDefault()}))},init:function(){document.addEventListener("onProductDetailContentUpdate",c)}};e.exports=d}}]);
//# sourceMappingURL=monogram.bd.js.map