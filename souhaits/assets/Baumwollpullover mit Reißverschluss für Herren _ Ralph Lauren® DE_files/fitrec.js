window.tfc_parseScriptQueryParams=function(e){for(var t,r,i,o=document.getElementsByTagName("script"),n="",s={},c=0;c<o.length;++c)if(t=o[c].src,e.test(t)){n=t;break}for(r=(n.split("?",2)[1]||"").split("&"),c=0;c<r.length;++c)2===(i=r[c].split("=",2)).length&&(s[i[0]]=i[1]);return s},function(){"use strict";var e=!!window.tfc,n=!1,t=window.console,r=["calculate","event","update","getProfileUrl","getToken","setToken"];if(e)for(o=0;o<r.length;++o)e=e&&!!window.tfc[r[o]];if(!e){for(var u,f="text/css",d="text/javascript",l="script",p={},i=[],o=0;o<r.length;++o)!function(e){p[e]=function(){i.push({apiName:e,args:arguments})}}(r[o]);p.init=function(e){var r,t,i;function o(e,t){t&&(r+="&"+e+"="+t)}n||(n=!0,r=e.configurationSecureURI+"/fitconfig?callback=tfc.processConfiguration&storeId="+e.storeKey,t=window.tfhash||{},(u=e).shimQueryParams=i=tfc_parseScriptQueryParams(/fitrec(-[^\.]+)?\.js/),e.serviceMode=e.serviceMode||i.serviceMode,o("serviceMode",e.serviceMode),o("deviceType",i.deviceType),o("locale",i.locale),o("iframeIntegration",t.iframeIntegration),o("clientHandlesBrowserUnsupported",!0),m(l,d,"tfc-fitrec-config",r))},p.processConfiguration=function(t){var e=navigator.userAgent,r=new RegExp("MSIE [0-9]"),i=new RegExp("Trident/7.0;"),o=new RegExp("Version/([0-9]+.[0-9]+).*Safari/[0-9]"),n=new RegExp("(Chrome|Chromium|CriOS|FxiOS)/[0-9]");if(r.test(e)||i.test(e))v("[True Fit] IE is not supported, so suppressing the widget.");else{if(!n.test(e)&&o.test(e)){var s=(o.exec(e)||[])[1];if(Number(s)<12)return void v("[True Fit] Safari < 12 is not supported, so suppressing the widget.")}var c=u.storeKey,a=t.cdnSecureURI,r=t.storeProductId,i=t.storeVersion,n=t.uxProductId,o=t.uxVersion,e=void 0!==t.customJsEnabled&&t.customJsEnabled,s=t.widgetDeviceType,r=void 0===t.storeVersionPath?""===i||""===r?"":"/"+r+"/"+i:t.storeVersionPath,i=void 0===t.uxVersionPath?""===o||""===n?"":"/"+n+"/"+o:t.uxVersionPath,n="/resources/store/"+c+"/css/fitrec"+("mobile"===s||"responsive"===s?"-"+s:"")+".css",o="/resources/store/"+c+"/js/tfcapp.js";(p.configuration=t).serviceMode=u.serviceMode,t.shimQueryParams=u.shimQueryParams;s=0<document.location.href.indexOf("tfcNGW=true");if(t.nextGenWidgetsEnabled||s){s=void 0===u.shimQueryParams.autoCalculate||"true"===u.shimQueryParams.autoCalculate;window.tfcapi("init",{storeKey:c,environment:u.shimQueryParams.environment,deviceType:u.shimQueryParams.deviceType,autoCalculate:s,cookieSameSiteNone:t.cookieSameSiteNone});t="%{TF_INTEGRATION_CDN_URI}";let e;e="http"===t.substring(0,4)?t:a+`/fitrec/${c}/js`;c=`${e}/tf-integration.js`;m(l,d,"tf-integration-library",c)}else{m("link",f,"tfc-fitrec-css",a+r+n);o=a+r+o;g(a+i+"/resources/fitrec/js/application.js"),e&&m(l,d,"tfc-store-library",o)}}},window.tfc=p}function m(e,t,r,i,o){document.createStyleSheet&&t===f?document.createStyleSheet(i):((e=document.createElement(e)).id=r,e.type=t,o&&(e.onload=o),t===f?(e.rel="stylesheet",e.href=i):t===d&&(e.async=!0,e.src=i),(i=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,i))}function s(t,r){var i=0;!function e(){++i>=r||t()||setTimeout(e,100*(1<<i-1))}()}function g(e){var t;m(l,d,"tfc-fitrec-library",e),t=function(){for(var e,t=0;t<i.length;++t)e=i[t],tfc[e.apiName].apply(tfc,e.args)},s(function(){return tfc!==p&&(t(),1)},15)}function v(e){t&&t.log&&t.log(e)}}(),tfc.init&&tfc.init({configurationSecureURI:"https://consumer.truefitcorp.com",storeKey:"ral"});