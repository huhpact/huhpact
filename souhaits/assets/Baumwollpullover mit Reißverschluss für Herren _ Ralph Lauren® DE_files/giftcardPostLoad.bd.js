(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{210:function(t,e,n){"use strict";var i=n(11),o=n(24),r=n(28);i.gsap.registerPlugin(o.ScrollTrigger,r.ScrollToPlugin);const c=n(17),a=$(".disappearingNavEnabled").length,d=n(43);let s,l,p,u,f,g,m=!1,w=document.querySelector("header");const y=$("#pdpMain");function h(){const t=Math.min(y.find(".pdp-right-col").height(),y.find(".pdp-left-col").height());window.innerHeight<t?y.find(".pdp-top-cont").addClass("short-vertical"):y.find(".pdp-top-cont").removeClass("short-vertical")}function k(){let t,e,n,r;t=c.isMediumViewAndDown()&&$(".js-pdp-main-entry-point").length?w.querySelector(".category-link-wrapper"):w.querySelector(".sticky-add2bag-container"),t&&i.gsap.set(t,{yPercent:0,opacity:0,duration:.1}),c.isMediumViewAndDown()&&$(".js-pdp-main-entry-point").length?(e=document.querySelector(".js-pdp-root-elem .category-link-wrapper"),n="top +="+e.clientHeight):(e=document.querySelector(".js-pdp-buttons-container #add-to-cart"),e||(e=document.querySelector(".js-pdp-buttons-container button")),n="top +="+w.clientHeight,r="top center"),$(".js-pdp-main-entry-point").length&&(r="top 100px"),s&&s.kill(),s=o.ScrollTrigger.create({trigger:e,start:n,endTrigger:".js-pdp-bottom-cont",end:r,onUpdate:function(){const n=function(t){if(t){const e=t.getBoundingClientRect(),n=w.getBoundingClientRect();return e.top<=n.bottom}}(e);!m&&n?(t&&i.gsap.to(t,{opacity:1,yPercent:100,duration:.3}),m=!0):m&&!n&&(t&&i.gsap.to(t,{opacity:0,yPercent:0,duration:.3}),m=!1)},onLeave:function(){t&&i.gsap.to(t,{opacity:0,yPercent:0,duration:.3}),m=!1},onLeaveBack:function(){t&&i.gsap.to(t,{opacity:0,yPercent:0,duration:.3}),m=!1},invalidateOnRefresh:!0,markers:!1});let a=i.gsap.matchMedia();$(".js-pdp-main-entry-point").length?a.add(c.queries.largeDownView,(function(){setTimeout((function(){const t=document.querySelector("#add-to-bag-bottom"),e=document.querySelector(".js-pdp-buttons-container #add-to-cart:not(.add-to-cart-disabled)");if(e){const n=i.gsap.timeline({paused:!0}).from(e,{marginLeft:`-${getComputedStyle(document.documentElement,null).getPropertyValue("--pdp-mobile-sidegap")}`,width:"100vw",ease:"sine.Out"});l&&l.kill(),l=o.ScrollTrigger.create({trigger:t,start:"bottom bottom",end:"bottom bottom-=40",animation:n,markers:!1,scrub:!0}),e.style.opacity=1}}),500)})):a.add(c.queries.largeDownView,(function(){const t=i.gsap.fromTo(".js-pdp-buttons-container .sticky-add2bag-container",{yPercent:100,opacity:0,duration:.1},{yPercent:0,opacity:1});l&&l.kill(),l=o.ScrollTrigger.create({trigger:e,start:"top top",endTrigger:".js-pdp-bottom-cont",end:"top center",animation:t,toggleClass:{targets:"body",className:"sticky-atb-footer-active"},toggleActions:"play reverse play reverse",markers:!1})}))}function b(){const t=y.find(".pdp-top-cont").find("#add-to-waitlist");if(t.length){t.trigger("click");let e=w.offsetHeight;i.gsap.to(window,{duration:.5,scrollTo:{y:u,offsetY:e}})}}function j(){const t=y.find(".pdp-top-cont"),e=t.find("#add-to-cart"),n=t.find("input[name=selectedVariant]");if(e.trigger("click"),e.hasClass("add-to-cart-disabled")||""===n.value||"null"===n.value){let t=150;w&&(t=w.clientHeight),i.gsap.to(window,{duration:.5,scrollTo:{y:f,offsetY:t}})}}function v(){y.find(".js-similar-items-btn").trigger("click")}function S(){const t=$(".js-add-to-waitlist-sticky"),e=y.find(".js-similar-items-btn button").clone().removeClass("inverse").addClass("js-similar-items-sticky").hide().insertAfter(t);t.hide(),e.show()}function q(){const t=window.scrollY,e=window.scrollX;window.scrollTo({top:0,left:0,behavior:"instant"});const n=y.find(".js-notifyme-sticky-anchor"),i=y.find(".js-attribute-wrapper.colorname");y.find(".js-attribute-wrapper.sizing");u=n.offset()?n.offset().top:0,f=i.offset()?i.offset().top:0,window.scrollTo({top:t,left:e,behavior:"instant"})}function C(){q(),function(){let t=y.find(".color-swatches").find("li.selected"),e=$(".sticky-add2bag-container");if(t.length){let n=t.find("a.swatch").data("color"),i=t.find("img").attr("src");e.find(".sticky-add2bag-swatch").attr("src",i),e.find(".colorSelected").text(n)}let n,i=y.find(".size-swatches").find("li.selected"),o=[];i.length&&i.each((function(){n=$(this).find(".js-variation-link").data("color"),o.push(n),e.find(".sizeSelectedValue").text(o.join(", "))}))}(),w&&(p&&w.removeChild(p),p=c.isMediumViewAndDown()?document.querySelector(".category-link-wrapper"):document.querySelector(".sticky-add2bag-container"),p&&(p=p.cloneNode(!0),w.appendChild(p))),k(),$(document).off("click","#add-to-cart-sticky",j).on("click","#add-to-cart-sticky",j),$(document).off("click",".js-add-to-waitlist-sticky",b).on("click",".js-add-to-waitlist-sticky",b),$(document).off("click",".js-similar-items-sticky",v).on("click",".js-similar-items-sticky",v),h()}function T(){(c.isLargeViewAndUp()||g!==window.innerWidth)&&(g=window.innerWidth,q(),h())}t.exports={init:function(){a||(w=w.querySelector(".top-banner-sticky")),C(),document.addEventListener("afterProductDetailContentUpdate",C),document.addEventListener("waitlistFormUpdated",S),g=window.innerWidth,$(window).on("resize",d(T,200))},initGiftCard:function(){h(),g=window.innerWidth,$(window).on("resize",d(T,200))}}}}]);
//# sourceMappingURL=giftcardPostLoad.bd.js.map