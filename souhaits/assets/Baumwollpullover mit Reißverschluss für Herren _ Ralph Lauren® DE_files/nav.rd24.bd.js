(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{139:function(e,a,n){"use strict";var t=n(6);n(155);n(43);const{gsap:s}=n(11);var i=n(288),o=n(17),l=n(53),r=n(61);const d=n(14);var c,v=!0===t.getDevice().ios;function p(){var e=0;$(".ticker-item").each((function(){e=$(this).height()>e?$(this).height():e})),$(".header-promotion").css("min-height",e)}function h(){const e="menu-active",a="fadein",i="sub-nav-active";var l,r,h=$(window).height(),u=$("body"),m=$("header"),f=$("#top-banner"),w=$("#navigation"),g=w.find(".js-navigation-container"),C=f.find(".mobile-nav-header"),y=$("#wrapper"),j=w.find(".js-nav-level-1").children(".js-nav-level-1-item"),b=$(".global-critical-err-msg"),k=$(".js-header-banner");function T(){y.hasClass(e)&&o.isMediumViewAndDown()&&window.requestAnimationFrame((function(){const e=document.querySelector("#top-banner");var a=window.innerHeight-e.getBoundingClientRect().top-e.offsetHeight;$('#wrapper nav[role="navigation"]').height(a),$("#wrapper .js-nav-level-2").height(a)}))}o.isMediumViewAndDown()?(w.attr("aria-expanded",!1).attr("aria-hidden",!0),g.attr("hidden",!0),v&&w.addClass("ios-device-nav")):(w.attr("aria-expanded",!0).attr("aria-hidden",!1),g.attr("hidden",!1)),$(window).on("orientationchange",(function(){setTimeout((function(){h=$(window).height(),y.hasClass(e)&&y.css({height:h}),p(),T()}),200)})),$(window).on("resize",(function(){o.isMediumViewAndDown()&&T()})),$(document).on("viewTypeChange",(function(n){let l=n.detail.current,r=n.detail.previous;const d=[o.SMALL,o.MEDIUM];d.indexOf(l)>=0&&d.indexOf(r)<0?function(){y.hasClass(e)?(w.attr("aria-expanded",!0).attr("aria-hidden",!1),g.attr("hidden",!1)):(w.attr("aria-expanded",!1).attr("aria-hidden",!0),g.attr("hidden",!0),u.removeClass("stop-scroll-on-body").css("overflow","auto")),j.removeClass("out").removeClass("hover"),t.setTopPosition();const a=w.find(".js-nav-level-2-wrapper .js-nav-level-3-wrapper");a.removeAttr("style"),a.find(".js-flyout-slot-content .js-nav-asset-with-highlights").each((function(){$(this).closest(".js-flyout-slot-content").prependTo($(this).closest(".js-nav-level-3-wrapper"))}))}():d.indexOf(l)<0&&d.indexOf(r)>=0&&(s.set([w,C],{clearProps:"all"}),y.hasClass(e)&&(y.css("height",""),w.css({overflow:"visible"}),$(".js-menu-toggle").attr("aria-expanded",!1),m.removeClass("hover")),y.removeClass(e),y.hasClass(e)||y.hasClass("search-active")||$(".menu-mask").removeClass("menu-mask-active"),w.attr("aria-expanded",!0).attr("aria-hidden",!1),g.attr("hidden",!1),u.removeClass("stop-scroll-on-body").css("overflow","auto"),w.find(".js-nav-level-2").not(".is-hidden").css({display:"",height:"",top:""}),w.find(".js-nav-level-2").removeClass("open-menu"),w.find(".js-nav-level-1-item, .js-nav-level-2-item").removeClass("active").children(".js-mobile-open-sub-menu").attr("aria-expanded",!1),y.find('nav[role="navigation"]').css({top:0,height:"auto"}),f.outerHeight(),$(".js-nav-fade-in-element").removeClass(a),f.removeClass(i),y.removeClass(i))})),p();var S=.5,x=s.timeline({paused:!0,onReverseComplete:function(){w.scrollTop(0),w.find(".js-nav-level-2-wrapper").scrollTop(0),w.find(".js-nav-level-3-wrapper").scrollTop(0),$(".js-nav-fade-in-element").removeClass(a),y.removeClass(e),w.find(".js-nav-level-2").hide(),w.find(".js-nav-level-2-wrapper .js-nav-level-3").hide(),w.find(".js-nav-level-1-item, .js-nav-level-2-item").removeClass("active").children(".js-mobile-open-sub-menu").attr("aria-expanded",!1),s.set([w,C],{clearProps:"all"})}}).to(w,{x:"0%",duration:S,ease:"sine.inOut"}).to(C,{clipPath:"inset(0% 0% 0% 0%)",duration:S,ease:"sine.inOut"},"-=0.5").call((function(){x.reversed()||(u.addClass("stop-scroll-on-body"),$(".js-nav-level-1-item > .js-nav-fade-in-element").addClass(a),$(".mobile-utility > .js-nav-fade-in-element").addClass(a),$(".nav-l1-recomm-container.js-nav-fade-in-element").addClass(a))}),null,"-=0.25");f.find(".js-menu-toggle").off("click touch").on("click touch",(function(a){a.preventDefault();var n=$("#dpid-sticky-navitems");if(t.setTopPosition(),y.hasClass(e))window.MedalliaSurveytShow=!0,n.removeClass("hide"),t.feedbackBtnShow(),"qrcode-rd"!==$("body").prop("id")&&$("body").removeClass("hide-vendor-icons"),$(".menu-mask").removeClass("menu-mask-active"),y.css("height",""),$(".js-menu-toggle").attr("aria-expanded",!1),"false"==$("#flyoutsearch").attr("aria-expanded")&&u.removeClass("stop-scroll-on-body"),f.removeClass(i),y.removeClass(i),w.css({overflow:"visible"}),x.reverse(),$(".js-flyout-title-wrapper").empty();else{y.addClass(e),n.addClass("hide"),window.MedalliaSurveytShow=!1,t.feedbackBtnHide(),$("body").addClass("hide-vendor-icons"),$(".menu-mask").addClass("menu-mask-active"),y.css({height:h}),$(".menu-mask").off("click touch").on("click touch",(function(){$(".js-menu-toggle").trigger("click")})),$(".js-menu-toggle").attr("aria-expanded",!0),w.attr("aria-expanded",!0).attr("aria-hidden",!1),g.attr("hidden",!1),w.css({overflow:"auto"});var s=w.find(".nav-l1-recomm-container");w.find(".js-nav-level-2").hide(),w.find(".js-nav-level-2-wrapper .js-nav-level-3").hide(),w.find(".js-nav-level-1-item, .js-nav-level-2-item").removeClass("active").children(".js-mobile-open-sub-menu").attr("aria-expanded",!1),x.restart(),document.dispatchEvent(new CustomEvent("contentChanged",{detail:{action:"flyout_in",cont:s.length&&s[0]}}))}$(window).trigger("scroll")})),f.off("click touch",".js-nav-mobile-back").on("click touch",".js-nav-mobile-back",(function(e){e.preventDefault();const n=$(this);t.setTopPosition(),n.data("scrollUnlock")&&w.css({overflow:"auto"});let s=!1,o=!0,l=!1,r=$(".js-nav-level-2-item.active").first();if(r.length||(l=!0,o=!1,s=!0,r=$(".js-nav-level-1-item.active").first(),$(".js-flyout-title-wrapper").empty()),r.length&&(r.children(".js-mobile-open-sub-menu").attr("aria-expanded",!1),r.children(".js-nav-level-wrapper").hide("slide",{direction:"right"},500,(function(){$(this).show(),r.children(".js-nav-level-wrapper").find(".js-nav-scrollable-wrapper").scrollTop(0),$(this).hide(),l?(r.children(".js-nav-level-wrapper").find(".js-nav-level-2-item > .js-nav-fade-in-element").removeClass(a),r.children(".js-nav-level-wrapper").find(".js-flyout-slot-content.js-nav-fade-in-element").first().removeClass(a),r.closest(".js-nav-level-wrapper").find(".js-nav-level-1-item > .js-nav-fade-in-element").addClass(a),$(".mobile-utility > .js-nav-fade-in-element").addClass(a)):o?(r.children(".js-nav-level-wrapper").find(".js-nav-level-3-item > .js-nav-fade-in-element").removeClass(a),r.children(".js-nav-level-wrapper").find(".js-flyout-slot-content.js-nav-fade-in-element").removeClass(a),r.closest(".js-nav-level-wrapper").find(".js-nav-level-2-item > .js-nav-fade-in-element").addClass(a)):r.children(".js-nav-level-wrapper").find(".js-nav-fade-in-element").removeClass(a),r.removeClass("active")}))),s)f.removeClass(i),y.removeClass(i);else{const e=f.find(".js-flyout-title-wrapper");e.fadeOut(250,(function(){e.html(r.closest(".js-nav-level-wrapper").find("> .js-level-2-inner > .js-menu-wrap > .js-nav-flyout-top .js-nav-flyout-title-content").html()||""),e.fadeIn(250)})),n.data("scrollUnlock",!0)}})),$(".user-account").on("click",(function(e){e.preventDefault(),$(this).parent(".user-info").toggleClass("active")})),$("#ChangePassowrdForm .form-caption.error-message").length>0&&$("html, body").animate({scrollTop:$("#ChangePassowrdForm").offset().top},"slow"),o.isLargeViewAndUp()&&n(289)(),$(document).on("mouseup",(function(e){var a=$(".header-login, .change-country");a.is(e.target)||0!==a.has(e.target).length||($(".change-country").removeClass("active"),$(".change-country .label").removeClass("selector-active"),$(".change-country .lists").hide())}));var D,M,A=$(".top-banner-sticky").height();function E(){$(".disappearingNavEnabled").length||$(".top-banner-sticky").addClass("stuck"),!$(".pdp-main-entry-point").hasClass("js-pdp-main-entry-point")&&$(".pdp-main-entry-point .category-link-wrapper").length&&o.isMediumViewAndDown()?($(".pdp-main-entry-point .category-link-wrapper").addClass("sticky"),y.css("padding-top",A+$(".pdp-main-entry-point .category-link-wrapper").outerHeight())):$(".disappearingNavEnabled").length||y.css("padding-top",A),T()}function P(){$(".top-banner-sticky").removeClass("stuck"),$(".pdp-main-entry-point .category-link-wrapper").removeClass("sticky"),y.css("padding-top",0),b.show(),k.show(),m.removeClass("show-nav hide-nav add-border-bottom add-transition"),T()}if(l=$(".global-critical-err-msg").length?$(".global-critical-err-msg").outerHeight():0,r=$(".js-header-banner").length?$(".js-header-banner").height():0,f.outerHeight(),$(window).on("load",(function(){t.setTopPosition()})),$(document).on("click","#custom-gladly-chat-button",(function(){window.MedalliaSurveytShow=!1})),$(document).on("click",".CloseButton-tvfeum-0",(function(){window.MedalliaSurveytShow=!0})),c=function(){if($(".quickShop-dialog, .rl-quickShop-dialog, .js-redesign-qs-toaster").is(":visible")&&o.isMediumViewAndDown()||$("body").hasClass("toaster-prevent-scroll")||$("body").hasClass("qs-prevent-scroll"))return!1;var e=$(window).scrollTop(),a=$("header").hasClass("promo-bottom-desktop"),n=$("header").hasClass("promo-bottom-mobile");$(".no-sticky-banner").length?o.isMediumViewAndDown()&&n||o.isLargeViewAndUp()&&a?e>=l?E():P():e>=r+l?E():P():e>=l?($(".disappearingNavEnabled").length||$(".top-banner-sticky").addClass("stuck"),!$(".pdp-main-entry-point").hasClass("js-pdp-main-entry-point")&&$(".pdp-main-entry-point .category-link-wrapper").length&&o.isMediumViewAndDown()?($(".pdp-main-entry-point .category-link-wrapper").addClass("sticky"),y.css("padding-top",A+$(".pdp-main-entry-point .category-link-wrapper").outerHeight())):$(".pt_product-search-result").length||$(".pdp-main").length||y.css("padding-top",A),t.setTopPosition()):P();var s=$(".header-banner-container").outerHeight()+$(".js-top-banner").outerHeight();return e>=60&&($("header").addClass("default"),document.documentElement.style.setProperty("--cart-banner-height",`${s}px`)),e<60&&($("header").removeClass("default"),document.documentElement.style.setProperty("--cart-banner-height",`${s}px`)),!0},$(window).on("scroll",c),c(),$(".skip-nav, .skip-secondary-nav").on("click",(function(){var e=this.hash,a=$(".top-banner-sticky").outerHeight();$("html, body").animate({scrollTop:$(e).offset().top-a},1e3,(function(){$(e).find(":focusable").eq(0).trigger("focus")}))})),$(".menu-mask").on("click touch",(function(){$("header").hasClass("hover")&&o.isLargeViewAndUp()&&($("#navigation .menu-category.level-1 > li").removeClass("hover").addClass("out"),$("#navigation .menu-category.level-1 > li").find(".level-2").attr("aria-expanded",!0).attr("aria-hidden",!1),setTimeout((function(){$("header").removeClass("hover")}),100))})),$(".promo-msg").on("click",(function(e){e.preventDefault();var a=$(this).find(".promo-msg-content");d.teleport(a,o.getViewType()<o.LARGE?"bottom":"right",null,"promo-details-toaster",!1,!0)})),$(".js-nav-level-item a").each((function(){this.href=this.href.replace(/\s/g,"%20")})),(M=$('#navigation ul > li a[href$="'+window.location+'"]')).length)M.attr("aria-describedby","currentpage"),M.closest("li.nav-item").addClass("current-division");else{const e=window.digitalData&&window.digitalData.page&&window.digitalData.page.breadcrumbIDs;e&&(D=e.split("|").shift()),""!==D&&void 0!==D||$("#pdpMain").length>0&&(D=$(".breadcrumb a:first-child").data("catid")),D&&$('.js-nav-level-1 .js-nav-level-item a[data-cgid="'+D+'"]').closest(".js-nav-level-item").addClass("current-division")}}a.init=function(){o.init(),h(),function(){let e;const a=$("header");a.find("#navigation").hoverIntent({sensitivity:3,interval:100,timeout:90,selector:".js-nav-item-with-flyout",over:function(){o.isMediumViewAndDown()||(e&&clearTimeout(e),a.addClass("hover hover-bg"),$(".menu-mask").addClass("menu-mask-active"),setTimeout((()=>{a.addClass("no-transition")}),300),window.MedalliaSurveytShow=!1,t.feedbackBtnHide())},out:function(){o.isMediumViewAndDown()||(e=setTimeout((()=>{const e=$(this).find(".js-nav-level-wrapper");a.removeClass("hover"),$(".menu-mask").removeClass("menu-mask-active"),e.addClass("no-pointer-events"),setTimeout((()=>{e.removeClass("no-pointer-events"),a.removeClass("no-transition hover-bg")}),300),window.MedalliaSurveytShow=!0,t.feedbackBtnShow()}),310))}})}(),l.init(),r.init(),i.init(),"complete"===document.readyState&&$("header").hasClass("disappearingNavEnabled")&&$("body").addClass("top-nav-hidden"),$(window).on("load",(function(){var e=$(".top-banner-sticky").length>0;if($("header").hasClass("disappearingNavEnabled")&&$("body").addClass("top-nav-hidden"),$(".top-banner-sticky").length>0&&document.cookie.indexOf("headerDefault")<0&&!$(".header").hasClass("default")&&$(".top-banner-sticky").length>0&&($("header").addClass("default"),setTimeout((function(){$("header").removeClass("default")}),5e3)),e){var a=180;window.Resources&&window.Resources.CURRENT_SITE&&window.Resources.CURRENT_SITE.match(/^(RalphLauren_US)$/)&&(a=3650),t.isFunctionalConsentGiven()&&t.setCookie("headerDefault",1,a)}}))}},288:function(e,a,n){"use strict";var t=n(6);a.init=function(){!t.isMobile()&&$(window).width()>959&&$("#navigation").accessibleMegaMenu({uuidPrefix:"accessible-megamenu",menuClass:"nav-menu",topNavItemClass:"nav-item",panelClass:"level-2",panelGroupClass:"tob-sub-cat",hoverClass:"hovering",focusClass:"focus",openClass:"open-menu",openDelay:10,closeDelay:250,openOnMouseover:!1})}},289:function(e,a,n){"use strict";e.exports=function(){let e=$("#wrapper"),a=$(".js-header-acc"),n=$(".js-menu-utility-user"),t=()=>{e.addClass("login-active"),a.removeClass("header-acc-hidden"),a.attr("aria-hidden","false"),$(".mini-cart-content").addClass("out"),setTimeout((function(){window.MedalliaSurveytShow=!1}),300)},s=()=>{e.removeClass("login-active"),a.attr("aria-hidden","true"),window.MedalliaSurveytShow=!0,setTimeout((function(){a.addClass("header-acc-hidden")}),600)};n.hoverIntent({sensitivity:3,interval:100,timeout:1e3,over:t,out:s}),n.on("keydown",(e=>{"Enter"===e.key||" "===e.key||"ArrowDown"===e.key?(e.preventDefault(),t()):"Escape"===e.key&&s()}))}}}]);
//# sourceMappingURL=nav.rd24.bd.js.map