const translations = {
    fr: {
        "nav.home": "Accueil",
        "nav.about": "À propos",
        "nav.services": "Services",
        "nav.pricing": "Tarifs",
        "nav.portfolio": "Portfolio",
        "nav.contact": "Contact",
        "hero.badge": "Solutions Web Premium",
        "hero.title.line1": "Développement Web",
        "hero.title.line2": "Nouvelle Génération",
        "hero.subtitle": "Transformez vos idées en expériences digitales exceptionnelles avec notre expertise technique avancée",
        "hero.stats.projects": "Projets",
        "hero.stats.satisfaction": "% Satisfaction",
        "hero.stats.years": "Ans d'Expertise",
        "hero.cta.primary": "Démarrer un Projet",
        "hero.cta.secondary": "Explorer nos Services",
        "hero.scroll": "Découvrir",
        "about.badge": "Qui sommes nous",
        "about.title": "Excellence & Innovation",
        "about.subtitle": "Une approche moderne du développement web avec une expertise technique approfondie",
        "about.performance.title": "Performance Ultime",
        "about.performance.description": "Applications web ultra-rapides optimisées pour tous les appareils avec des temps de chargement exceptionnels",
        "about.innovation.title": "Innovation Continue",
        "about.innovation.description": "Utilisation des dernières technologies et frameworks pour créer des expériences utilisateur révolutionnaires",
        "about.security.title": "Sécurité Avancée",
        "about.security.description": "Protection renforcée avec les meilleures pratiques de sécurité et conformité aux standards internationaux",
        "about.skills.title": "Technologies Maîtrisées",
        "services.badge": "Nos Services",
        "services.title": "Solutions Complètes",
        "services.subtitle": "De l'idée à la réalisation, nous couvrons tous les aspects de votre présence digitale",
        "services.development.title": "Développement Web",
        "services.development.description": " Applications web modernes et performantes utilisant HTML, CSS, JavaScript et les dernières technologies",
        "services.design.title": "Design & UX",
        "services.design.description": "Interfaces intuitives et expériences utilisateur exceptionnelles",
        "services.hosting.title": "Hébergement",
        "services.hosting.description": "Solutions cloud sécurisées et haute performance",
        "services.maintenance.title": "Maintenance",
        "services.maintenance.description": "Support technique 24/7 et mises à jour continues",
        "services.marketing.title": "Marketing Digital",
        "services.marketing.description": "Stratégies SEO et marketing pour maximiser votre visibilité",
        "pricing.badge": "Nos Tarifs",
        "pricing.title": "Formules Transparentes",
        "pricing.subtitle": "Des solutions adaptées à tous les budgets avec un rapport qualité-prix exceptionnel",
        "pricing.period": "/ projet",
        "pricing.popular": "Plus Populaire",
        "pricing.starter.title": "Starter",
        "pricing.starter.description": "Parfait pour démarrer votre présence en ligne",
        "pricing.starter.feature1": "Site responsive moderne",
        "pricing.starter.feature2": "Optimisation SEO",
        "pricing.starter.feature3": "Hébergement 1 an",
        "pricing.starter.feature4": "Support email",
        "pricing.pro.title": "Professional",
        "pricing.pro.description": "Solution complète pour entreprises ambitieuses",
        "pricing.pro.feature1": "Application web avancée",
        "pricing.pro.feature2": "Design sur mesure",
        "pricing.pro.feature3": "Intégrations API",
        "pricing.pro.feature4": "Support prioritaire",
        "pricing.pro.feature5": "Analytics avancés",
        "pricing.enterprise.title": "Enterprise",
        "pricing.enterprise.description": "Plateforme enterprise sur mesure",
        "pricing.enterprise.feature1": "Architecture scalable",
        "pricing.enterprise.feature2": "10+ Pages",
        "pricing.enterprise.feature3": "API personnalisées",
        "pricing.enterprise.feature4": "Support 24/7",
        "pricing.enterprise.feature5": "Branding",
        "pricing.cta": "Choisir",
        "portfolio.badge": "Nos Réalisations",
        "portfolio.title": "Portfolio Créatif",
        "portfolio.subtitle": "Découvrez quelques-unes de nos créations les plus remarquables",
        "portfolio.project1.title": "USP Hannover",
        "portfolio.project1.description": "Présentation de l'entreprise USP Hannover avec des animations modernes",
        "portfolio.project2.title": "Plateforme E-commerce",
        "portfolio.project2.description": "Présentation complète d'un MacBook Pro",
        "portfolio.project3.title": "WaifuSpin",
        "portfolio.project3.description": "Création d'une application casino complète avec des jeux de casino et des animations",
        "portfolio.view": "Voir le projet",
        "contact.badge": "Contact",
        "contact.title": "Démarrons Ensemble",
        "contact.subtitle": "Prêt à transformer vos idées en réalité digitale ? Contactez-nous dès maintenant",
        "contact.email.title": "Email",
        "contact.location.title": "Localisation",
        "contact.location.address": "Bordeaux, France",
        "contact.location.address1": "Potsdam, Allemagne",
        "contact.cta.title": "Prêt à commencer ?",
        "contact.cta.description": "Transformons ensemble vos idées en réalité digitale. Contactez-nous pour discuter de votre projet.",
        "contact.cta.email": "Envoyer un email",
        "footer.tagline": "Excellence en développement web",
        "footer.services.title": "Services",
        "footer.services.development": "Développement",
        "footer.services.design": "Design",
        "footer.services.hosting": "Hébergement",
        "footer.company.title": "Entreprise",
        "footer.company.about": "À propos",
        "footer.company.portfolio": "Portfolio",
        "footer.company.contact": "Confidentialité",
        "footer.company.imprint": "Mentions légales",
        "footer.copyright": "© 2025 huh(pact). Tous droits réservés.",
        "cookie.1": "Nous utilisons des cookies",
        "cookie.2": "Ce site utilise des cookies pour améliorer votre expérience de navigation et analyser l'utilisation du site. En continuant à naviguer, vous acceptez notre utilisation des cookies.",
        "cookie.accept": "Accepter",
        "cookie.decline": "Refuser"
    },
    en: {
        "nav.home": "Home",
        "nav.about": "About",
        "nav.services": "Services",
        "nav.pricing": "Pricing",
        "nav.portfolio": "Portfolio",
        "nav.contact": "Contact",
        "hero.badge": "Premium Web Solutions",
        "hero.title.line1": "Next Generation",
        "hero.title.line2": "Web Development",
        "hero.subtitle": "Transform your ideas into exceptional digital experiences with our advanced technical expertise",
        "hero.stats.projects": "Projects",
        "hero.stats.satisfaction": "% Satisfaction",
        "hero.stats.years": "Years Experience",
        "hero.cta.primary": "Start a Project",
        "hero.cta.secondary": "Explore Services",
        "hero.scroll": "Discover",
        "about.badge": "About Us",
        "about.title": "Excellence & Innovation",
        "about.subtitle": "A modern approach to web development with deep technical expertise",
        "about.performance.title": "Ultimate Performance",
        "about.performance.description": "Ultra-fast web applications optimized for all devices with exceptional loading times",
        "about.innovation.title": "Continuous Innovation",
        "about.innovation.description": "Using the latest technologies and frameworks to create revolutionary user experiences",
        "about.security.title": "Advanced Security",
        "about.security.description": "Enhanced protection with security best practices and compliance with international standards",
        "about.skills.title": "Mastered Technologies",
        "services.badge": "Our Services",
        "services.title": "Complete Solutions",
        "services.subtitle": "From idea to implementation, we cover all aspects of your digital presence",
        "services.development.title": "Web Development",
        "services.development.description": "Modern and performant web applications using HTML, CSS, JavaScript and latest technologies",
        "services.design.title": "Design & UX",
        "services.design.description": "Intuitive interfaces and exceptional user experiences",
        "services.hosting.title": "Hosting",
        "services.hosting.description": "Secure and high-performance cloud solutions",
        "services.maintenance.title": "Maintenance",
        "services.maintenance.description": "24/7 technical support and continuous updates",
        "services.marketing.title": "Digital Marketing",
        "services.marketing.description": "SEO and marketing strategies to maximize your visibility",
        "pricing.badge": "Our Pricing",
        "pricing.title": "Transparent Pricing",
        "pricing.subtitle": "Solutions adapted to all budgets with exceptional value for money",
        "pricing.period": "/ project",
        "pricing.popular": "Most Popular",
        "pricing.starter.title": "Starter",
        "pricing.starter.description": "Perfect to start your online presence",
        "pricing.starter.feature1": "Modern responsive site",
        "pricing.starter.feature2": "SEO optimization",
        "pricing.starter.feature3": "1 year hosting",
        "pricing.starter.feature4": "Email support",
        "pricing.pro.title": "Professional",
        "pricing.pro.description": "Complete solution for ambitious companies",
        "pricing.pro.feature1": "Advanced web application",
        "pricing.pro.feature2": "Custom design",
        "pricing.pro.feature3": "API integrations",
        "pricing.pro.feature4": "Priority support",
        "pricing.pro.feature5": "Advanced analytics",
        "pricing.enterprise.title": "Enterprise",
        "pricing.enterprise.description": "Custom enterprise platform",
        "pricing.enterprise.feature1": "Scalable architecture",
        "pricing.enterprise.feature2": "10+ Pages",
        "pricing.enterprise.feature3": "Custom APIs",
        "pricing.enterprise.feature4": "24/7 support",
        "pricing.enterprise.feature5": "Branding",
        "pricing.cta": "Choose",
        "portfolio.badge": "Our Work",
        "portfolio.title": "Creative Portfolio",
        "portfolio.subtitle": "Discover some of our most remarkable creations",
        "portfolio.project1.title": "USP Hannover",
        "portfolio.project1.description": "Company presentation of USP Hannover with modern animations",
        "portfolio.project2.title": "E-commerce Platform",
        "portfolio.project2.description": "Complete showcase of a MacBook Pro",
        "portfolio.project3.title": "WaifuSpin",
        "portfolio.project3.description": "Creation of a complete casino application with casino games and animations",
        "portfolio.view": "View project",
        "contact.badge": "Contact",
        "contact.title": "Let's Start Together",
        "contact.subtitle": "Ready to transform your ideas into digital reality? Contact us now",
        "contact.email.title": "Email",
        "contact.location.title": "Location",
        "contact.location.address": "Bordeaux, France",
        "contact.location.address1": "Potsdam, Germany",
        "contact.cta.title": "Ready to start?",
        "contact.cta.description": "Let's transform your ideas into digital reality together. Contact us to discuss your project.",
        "contact.cta.email": "Send email",
        "footer.tagline": "Excellence in web development",
        "footer.services.title": "Services",
        "footer.services.development": "Development",
        "footer.services.design": "Design",
        "footer.services.hosting": "Hosting",
        "footer.company.title": "Company",
        "footer.company.about": "About",
        "footer.company.portfolio": "Portfolio",
        "footer.company.contact": "Privacy Policy",
        "footer.company.imprint": "Imprint",
        "footer.copyright": "© 2025 huh(pact). All rights reserved.",
        "cookie.1": "We use cookies",
        "cookie.2": "This site uses cookies to enhance your browsing experience and analyze site usage. By continuing to browse, you agree to our use of cookies.",
        "cookie.accept": "Accept",
        "cookie.decline": "Decline"
    }
};

let currentLanguage = 'fr';
let cursorX = 0;
let cursorY = 0;

document.addEventListener('DOMContentLoaded', function() {
    detectLanguage();
    initializeCursor();
    initializeNavigation();
    initializeMobileMenu();
    initializeScrollAnimations();
    initializeCounters();
    initializeBackToTop();
    initializeSkillProgress();
    translatePage();

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                const offset = 80;
                const elementPosition = target.offsetTop - offset;
                window.scrollTo({
                    top: elementPosition,
                    behavior: 'smooth'
                });
     
                document.getElementById('mobileMenuOverlay').classList.remove('active');
            }
        });
    });
});

function initializeCursor() {
    const cursor = document.querySelector('.cursor-dot');
    if (!cursor) return;

    if (window.innerWidth <= 768) {
        cursor.style.display = 'none';
        return;
    }
    
    document.addEventListener('mousemove', (e) => {
        cursorX = e.clientX;
        cursorY = e.clientY;
        
        cursor.style.left = cursorX + 'px';
        cursor.style.top = cursorY + 'px';
    });

    document.querySelectorAll('.magnetic-hover').forEach(element => {
        element.addEventListener('mouseenter', () => {
            cursor.classList.add('magnetic');
        });
        
        element.addEventListener('mouseleave', () => {
            cursor.classList.remove('magnetic');
            element.style.transform = '';
        });
        
        
    });
}

function detectLanguage() {
    const browserLang = navigator.language || navigator.userLanguage;
    const langCode = browserLang.split('-')[0];
    
    if (langCode === 'en') {
        currentLanguage = 'en';
        document.documentElement.lang = 'en';
        document.getElementById('langToggle').querySelector('.lang-text').textContent = 'EN';
    } else {
        currentLanguage = 'fr';
        document.documentElement.lang = 'fr';
        document.getElementById('langToggle').querySelector('.lang-text').textContent = 'FR';
    }
}

function toggleLanguage() {
    currentLanguage = currentLanguage === 'fr' ? 'en' : 'fr';
    document.documentElement.lang = currentLanguage;
    document.getElementById('langToggle').querySelector('.lang-text').textContent = currentLanguage.toUpperCase();
    translatePage();
}

function translatePage() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[currentLanguage] && translations[currentLanguage][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[currentLanguage][key];
            } else {
                element.textContent = translations[currentLanguage][key];
            }
        }
    });
    
    document.title = currentLanguage === 'fr' 
        ? 'huh(pact) - Développement Web Premium'
        : 'huh(pact) - Premium Web Development';
}

document.getElementById('langToggle').addEventListener('click', toggleLanguage);

function initializeNavigation() {
    const navbar = document.querySelector('.navbar');
    const progressBar = document.getElementById('navProgressBar');
    
    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
        
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        progressBar.style.width = scrolled + '%';
    });
}

function initializeMobileMenu() {
    const mobileMenuTrigger = document.getElementById('mobileMenuTrigger');
    const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
    const mobileMenuClose = document.getElementById('mobileMenuClose');
    
    mobileMenuTrigger.addEventListener('click', () => {
        mobileMenuOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });
    
    mobileMenuClose.addEventListener('click', () => {
        mobileMenuOverlay.classList.remove('active');
        document.body.style.overflow = 'auto';
    });
    
    mobileMenuOverlay.addEventListener('click', (e) => {
        if (e.target === mobileMenuOverlay) {
            mobileMenuOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    });

    document.querySelectorAll('.mobile-nav-link').forEach(link => {
        link.addEventListener('click', () => {
            mobileMenuOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        });
    });
}

function initializeScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const delay = entry.target.dataset.delay || 0;
                setTimeout(() => {
                    entry.target.classList.add('visible');
                }, delay * 1000);
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    document.querySelectorAll('.reveal-up, .reveal-left, .reveal-right').forEach(el => {
        observer.observe(el);
    });
  
    window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        document.querySelectorAll('.shape').forEach(shape => {
            const speed = shape.dataset.speed || 0.5;
            const yPos = -(scrolled * speed);
            shape.style.transform = `translateY(${yPos}px)`;
        });
    });
}

function initializeCounters() {
    const counters = document.querySelectorAll('[data-count]');
    const observerOptions = {
        threshold: 0.7
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                const target = parseInt(counter.getAttribute('data-count'));
                let current = 0;
                
                const increment = target / 60;
                const timer = setInterval(() => {
                    current += increment;
                    counter.textContent = Math.floor(current);
                    
                    if (current >= target) {
                        counter.textContent = target;
                        clearInterval(timer);
                    }
                }, 33);
                
                observer.unobserve(counter);
            }
        });
    }, observerOptions);
    
    counters.forEach(counter => observer.observe(counter));
}

function initializeSkillProgress() {
    const skillItems = document.querySelectorAll('.skill-item');
    const observerOptions = {
        threshold: 0.5
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const skillItem = entry.target;
                const progressBar = skillItem.querySelector('.skill-progress');
                const progress = progressBar.getAttribute('data-progress');
                
                setTimeout(() => {
                    progressBar.style.setProperty('--progress', progress + '%');
                    progressBar.querySelector('::after') && (progressBar.querySelector('::after').style.width = progress + '%');
                    
                    progressBar.style.background = `linear-gradient(to right, var(--gradient-primary) ${progress}%, rgba(255,255,255,0.1) ${progress}%)`;
                }, 200);
                
                observer.unobserve(skillItem);
            }
        });
    }, observerOptions);
    
    skillItems.forEach(item => observer.observe(item));
}

function initializeBackToTop() {
    const backToTop = document.getElementById('backToTop');
    const progressCircle = document.getElementById('progressCircle');
    const circumference = 2 * Math.PI * 22; 
    
    progressCircle.style.strokeDasharray = circumference;
    progressCircle.style.strokeDashoffset = circumference;
    
    window.addEventListener('scroll', () => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = (scrollTop / docHeight) * 100;

        if (scrollTop > 300) {
            backToTop.classList.add('visible');
        } else {
            backToTop.classList.remove('visible');
        }

        const offset = circumference - (scrollPercent / 100) * circumference;
        progressCircle.style.strokeDashoffset = offset;
    });
    
    backToTop.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
}

function openPricingModal(plan) {
    const modalData = {
        starter: {
            title: currentLanguage === 'fr' ? 'Formule Starter' : 'Starter Plan',
            price: '€1,799',
            description: currentLanguage === 'fr' 
                ? 'La formule parfaite pour démarrer votre présence en ligne avec un site web professionnel et moderne.'
                : 'The perfect plan to start your online presence with a professional and modern website.',
            features: currentLanguage === 'fr' 
                ? [
                    'Site web responsive et moderne',
                    'Optimisation SEO de base',
                    'Hébergement sécurisé 1 an',
                    'Support technique par email',
                    'Certificat SSL inclus',
                    'Intégration Google Analytics',
                    'Formation à la gestion de contenu'
                ]
                : [
                    'Modern responsive website',
                    'Basic SEO optimization',
                    'Secure hosting for 1 year',
                    'Email technical support',
                    'SSL certificate included',
                    'Google Analytics integration',
                    'Content management training'
                ],
            paymentLink: 'https://book.stripe.com/3cIeVcdnebHm2md6x04wM0f'
        },
        pro: {
            title: currentLanguage === 'fr' ? 'Formule Professional' : 'Professional Plan',
            price: '€3,499',
            description: currentLanguage === 'fr' 
                ? 'Solution complète pour les entreprises ambitieuses qui veulent se démarquer avec une application web avancée.'
                : 'Complete solution for ambitious companies that want to stand out with an advanced web application.',
            features: currentLanguage === 'fr' 
                ? [
                    'Application web complète et avancée',
                    'Design personnalisé et unique',
                    'Intégrations API tierces',
                    'Support prioritaire par téléphone',
                    'Analytics et reporting avancés',
                    'Optimisation SEO avancée',
                    'Maintenance incluse 6 mois',
                    'Branding complète'
                ]
                : [
                    'Complete and advanced web application',
                    'Custom and unique design',
                    'Third-party API integrations',
                    'Priority phone support',
                    'Advanced analytics and reporting',
                    'Advanced SEO optimization',
                    'Maintenance included 6 months',
                    'Complete Branding'
                ],
            paymentLink: 'https://book.stripe.com/6oU5kC1Ew26MaSJ7B44wM0g'
        },
        enterprise: {
            title: currentLanguage === 'fr' ? 'Formule Enterprise' : 'Enterprise Plan',
            price: '€5,999',
            description: currentLanguage === 'fr' 
                ? 'Plateforme enterprise sur mesure avec architecture scalable et sécurité renforcée pour les grandes entreprises.'
                : 'Custom enterprise platform with scalable architecture and enhanced security for large companies.',
            features: currentLanguage === 'fr' 
                ? [
                    'Plateforme entièrement personnalisée',
                    'Architecture scalable et haute performance',
                    '10+ Pages',
                    'API personnalisées et intégrations complexes',
                    'Support technique 24/7',
                    'Consultation stratégique incluse',
                    'Maintenance premium 12 mois',
                    'Branding & Marketing avancé',
                    'Tests de charge et optimisation'
                ]
                : [
                    'Fully customized platform',
                    'Scalable and high-performance architecture',
                    '10+ Pages',
                    'Custom APIs and complex integrations',
                    '24/7 technical support',
                    'Strategic consultation included',
                    'Premium maintenance 12 months',
                    'Branding & Advanced Marketing',
                    'Load testing and optimization'
                ],
            paymentLink: 'https://book.stripe.com/aFa00i5UMfXC5yp5sW4wM0h'
        }
    };
    
    const data = modalData[plan];
    const modalBody = document.getElementById('modalBody');
    modalBody.innerHTML = `
        <h2>${data.title}</h2>
        <div style="text-align: center; margin: 2rem 0;">
            <div style="font-size: 3rem; font-weight: 700; color: var(--primary); margin-bottom: 1rem;">${data.price}</div>
            <p style="font-size: 1.1rem; color: var(--text-secondary);">${data.description}</p>
        </div>
        
        <h3 style="margin: 2rem 0 1rem 0; color: var(--text-primary);">
            ${currentLanguage === 'fr' ? 'Inclus dans cette formule :' : 'Included in this plan:'}
        </h3>
        <ul style="margin-bottom: 3rem;">
            ${data.features.map(feature => `<li>${feature}</li>`).join('')}
        </ul>
        
        <div class="modal-buttons">
            <a href="${data.paymentLink}" target="_blank" class="btn btn-primary magnetic-hover ripple-effect">
                <span>${currentLanguage === 'fr' ? 'Commander maintenant' : 'Order now'}</span>
                <div class="btn-bg"></div>
            </a>
            <button class="btn btn-secondary magnetic-hover" onclick="closeModal()">
                <span>${currentLanguage === 'fr' ? 'Fermer' : 'Close'}</span>
            </button>
        </div>
    `;
    
    document.getElementById('modalOverlay').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function openPortfolioModal(project) {
    const portfolioData = {
        ecommerce: {
            title: currentLanguage === 'fr' ? 'USP Hannover' : 'USP Hannover',
            image: '/images/usp-hannover.jpg',
            description: currentLanguage === 'fr' 
                ? 'Site de présentation d\'entreprise utilisant des animations modernes, un contenu informatif et un design épuré. Ce projet met en avant l\'entreprise USP Hannover avec des animations modernes et une mise en page informative.'
                : 'Complete business presentation site using modern animations, informative content, and a sleek design. This project highlights the company USP Hannover with modern animations and an informative layout.',
            technologies: ['Font Awesome', 'HTML', 'CSS', 'JavaScript', 'Google Fonts', "Google Analytics", 'Boxicons', 'GSAP'],
            features: currentLanguage === 'fr' 
                ? ['Parallaxe d’image', 'Éléments interactifs', 'Disposition psychologique', 'SEO complexe', 'Design convivial', 'Design responsive']
                : ['Image Parallax', 'Interactive Elements', 'Psychological Layout', 'Complex SEO', 'User-Friendly Design', 'Responsive Design'],
               
            liveUrl: 'https://www.usp-hannover.de',
            githubUrl: 'https://github.com/huhpact/USP-Hannover/blob/main/index.html'
        },
        saas: {
            title: currentLanguage === 'fr' ? 'Plateforme E-commerce' : 'E-commerce Platform',
            image: '/images/mbpro.png',
            description: currentLanguage === 'fr' 
                ? 'Une page de présentation inspirée par Apple pour le MacBook Pro, utilisant des animations modernes, des éléments et des transitions. Ce projet met en avant un design élégant et interactif, parfait pour présenter des produits ou services.'
                : 'A showcase page inspired by Apple for the MacBook Pro, using modern animations, elements, and transitions. This project features a sleek and interactive design, perfect for showcasing products or services.',
            technologies: ['HTML', 'CSS', 'Javascript', 'Boxicons', 'Google Fonts', 'Google Analytics'],
            features: currentLanguage === 'fr' 
                ? ['Parallax Défilement', 'Intégration vidéo Stop-Go', 'Animations (In-Viewport)', 'SEO optimisé', 'Responsive design']
                : ['Parallax Scrolling', 'Stop-Go Video Integration', 'Scroll Animations (In-Viewport)', 'SEO optimized', 'Responsive design'],
            liveUrl: 'https://huhpact.dev/mbpro/',
            githubUrl: 'https://github.com/huhpact/huhpact/blob/main/mbpro/index.html'
        },
        corporate: {
            title: currentLanguage === 'fr' ? 'WaifuSpin' : 'WaifuSpin',
            image: '/images/waifuspin2.jpg',
            description: currentLanguage === 'fr' 
                ? 'Application casino moderne et complète avec des jeux, des informations et un design moderne, permettant aux utilisateurs de jouer et de profiter d\'une expérience de casino complète. Ce projet met en avant des animations avancées et un design élégant.'
                : 'Complex modern casino application with games, information and modern design, allowing users to play and enjoy a complete casino experience. This project showcases advanced animations and a sleek design.',
            technologies: ['GSAP', 'TypeScript', 'JavaScript', 'i18n', 'JSON', 'HTML5', 'CSS3', 'Boxicons', 'Google Fonts'],
            features: currentLanguage === 'fr' 
                ? ['Intégration complète des paiements Stripe', 'Animations Framer Motion', 'SEO avancé', 'Performance optimisée', 'Design moderne et responsive']
                : ['Full Integration of Stripe Payments', 'Framer Motion animations', 'Advanced SEO', 'Optimized performance', 'Modern responsive design'],
            liveUrl: 'https://waifuspin.com/',
            githubUrl: 'https://github.com/huhpact/WaifuSpin/blob/main/en/index/index.html'
        }
    };
    
    const data = portfolioData[project];
    const modalBody = document.getElementById('modalBody');
    modalBody.innerHTML = `
        <img src="${data.image}" alt="${data.title}" style="width: 100%; height: 250px; object-fit: cover; border-radius: 15px; margin-bottom: 2rem;">
        
        <h2>${data.title}</h2>
        <p style="margin-bottom: 2rem; line-height: 1.7;">${data.description}</p>
        
        <h3 style="margin: 2rem 0 1rem 0; color: var(--text-primary);">
            ${currentLanguage ===  'fr' ? 'Fonctionnalités clés :' : 'Key features:'}
        </h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
            ${data.features.map(feature => `
                <div style="background: var(--glass-bg); padding: 1rem; border-radius: 15px; text-align: center; border: 1px solid var(--glass-border);">
                    <span style="color: var(--text-primary); font-weight: 500;">${feature}</span>
                </div>
            `).join('')}
        </div>
        
        <h3 style="margin: 2rem 0 1rem 0; color: var(--text-primary);">
            ${currentLanguage === 'fr' ? 'Technologies utilisées :' : 'Technologies used:'}
        </h3>
        <div style="display: flex; gap: 0.8rem; margin-bottom: 3rem; flex-wrap: wrap;">
            ${data.technologies.map(tech => `
                <span style="background: rgba(79, 70, 229, 0.3); padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 500; color: var(--primary);">${tech}</span>
            `).join('')}
        </div>
        
        <div class="modal-buttons">
            <a href="${data.liveUrl}" target="_blank" rel="noopener noreferrer" class="btn btn-primary magnetic-hover ripple-effect">
                <span>${currentLanguage === 'fr' ? 'Voir le site' : 'View live site'}</span>
                <div class="btn-bg"></div>
            </a>
            <a href="${data.githubUrl}" target="_blank" rel="noopener noreferrer" class="btn btn-secondary magnetic-hover">
                <span>${currentLanguage === 'fr' ? 'Code source' : 'Source code'}</span>
            </a>
            <button class="btn btn-outline magnetic-hover" onclick="closeModal()">
                <span>${currentLanguage === 'fr' ? 'Fermer' : 'Close'}</span>
            </button>
        </div>
    `;
    
    document.getElementById('modalOverlay').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    document.getElementById('modalOverlay').classList.remove('active');
    document.body.style.overflow = 'auto';
}

document.getElementById('modalClose').addEventListener('click', closeModal);
document.getElementById('modalOverlay').addEventListener('click', (e) => {
    if (e.target === document.getElementById('modalOverlay')) {
        closeModal();
    }
});

const observer = new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
        if (entry.entryType === 'navigation') {
            console.log('Page Load Time:', entry.loadEventEnd - entry.loadEventStart);
        }
    }
});

observer.observe({ entryTypes: ['navigation'] });

window.addEventListener('beforeunload', function() {
});

window.addEventListener('error', function(e) {
    console.error('JavaScript Error:', e.error);
});

document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        document.getElementById('mobileMenuOverlay').classList.remove('active');
        closeModal();
        document.body.style.overflow = 'auto';
    }
});

document.querySelectorAll('img').forEach(img => {
    img.addEventListener('contextmenu', e => e.preventDefault());
});

if (!('scrollBehavior' in document.documentElement.style)) {
    const script = document.createElement('script');
    script.src = 'https://unpkg.com/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js';
    document.head.appendChild(script);
}

window.addEventListener('load', () => {
    document.body.classList.add('loaded');

    setTimeout(() => {
        document.querySelectorAll('.hero .reveal-up').forEach((el, index) => {
            setTimeout(() => {
                el.classList.add('visible');
            }, index * 200);
        });
    }, 500);
});
